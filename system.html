<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>V4 PRO — SYSTEM</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="style.css">
</head>

<body>
<div class="screen">
  <h1>SYSTEM CORE</h1>

  <div id="info"></div>
  <div class="bars">
  <div class="bar mana">
    <div id="manaBar"></div>
  </div>

  <div class="bar stamina">
    <div id="staminaBar"></div>
  </div>

  <div class="bar fatigue">
    <div id="fatigueBar"></div>
  </div>
</div>

  <button onclick="gainXP()">Тренировка</button>
 <button onclick="location.href='skills.html'">НАВЫКИ</button> 
</div>
  <div id="rankBox"></div>

<script src="core/engine.js"></script>
<script src="core/player.js"></script>
<script>
initSystem();

const info = document.getElementById("info");

let cls = localStorage.getItem("V4_CLASS");
let diff = localStorage.getItem("V4_DIFFICULTY");

info.innerHTML = `
  <p>Класс: ${cls}</p>
  <p>Сложность: ${diff}</p>
  <p>Ранг: ${PLAYER.rank}</p>
  <p>Уровень: ${PLAYER.level}</p>
  <p>STR: ${PLAYER.stats.str}</p>
  <p>END: ${PLAYER.stats.end}</p>
  <p>INT: ${PLAYER.stats.int}</p>
`;

function gainXP(){
  PLAYER.xp += 10;
  if(PLAYER.xp >= 100){
    PLAYER.xp = 0;
    PLAYER.level++;
  }
  update();
}

function update(){
  info.innerHTML = `
    <p>Класс: ${cls}</p>
    <p>Сложность: ${diff}</p>
    <p>Ранг: ${PLAYER.rank}</p>
    <p>Уровень: ${PLAYER.level}</p>
    <p>STR: ${PLAYER.stats.str}</p>
    <p>END: ${PLAYER.stats.end}</p>
    <p>INT: ${PLAYER.stats.int}</p>
  `;
}
</script>
  <script src="core/ranks.js"></script>
  loadRanks().then(()=>{
  checkRank();
  update();
});
  const rankBox = document.getElementById("rankBox");

function update(){
  rankBox.innerHTML = `
    <h2 style="color:${RANKS[PLAYER.rank]?.color}">
      ${PLAYER.rank} — ${RANKS[PLAYER.rank]?.title}
    </h2>
  `;

  info.innerHTML = `
    <p>Класс: ${cls}</p>
    <p>Сложность: ${diff}</p>
    <p>Ранг: ${PLAYER.rank}</p>
    <p>Уровень: ${PLAYER.level}</p>
    <p>STR: ${PLAYER.stats.str}</p>
    <p>END: ${PLAYER.stats.end}</p>
    <p>INT: ${PLAYER.stats.int}</p>
  `;
}
  <button onclick="location.href='ai.html'">AI CORE</button>
</body>
</html>
